# Лабораторная работа №1 (Вариант 1)

## Цель работы
Приобретение практических навыков:
- управления процессами в ОС;
- обеспечения обмена данными между процессами через каналы (pipe).

## Задание
Программа должна состоять из двух частей: **родительский процесс** (`parent`) и **дочерний процесс** (`child`).

- Родительский процесс:
  - запрашивает у пользователя имя файла;
  - создаёт два канала связи (parent→child и child→parent);
  - запускает дочерний процесс, передавая ему имя файла;
  - принимает от пользователя строки с числами и пересылает их дочернему процессу;
  - получает от дочернего процесса результат и выводит его пользователю.

- Дочерний процесс:
  - получает имя файла через аргументы;
  - читает строки чисел от родителя;
  - вычисляет **сумму** чисел в строке;
  - отправляет результат родителю и параллельно записывает его в файл;
  - при некорректном формате (например, `12.2` или `12,2`) выводит сообщение об ошибке.

Взаимодействие между процессами выполняется через системные вызовы `pipe`, `fork`, `execve`, `read`, `write`, `dup2`, `open`, `close`, `waitpid`.

Использование функций стандартной библиотеки ввода-вывода (`stdio.h`) запрещено.

## Состав файлов
- `parent.c` — исходный код родительского процесса;
- `child.c` — исходный код дочернего процесса;
- `Makefile` — правила сборки.

## Сборка
Выполнить в терминале (WSL/Linux):
```bash
make
```

В результате появятся два исполняемых файла: `parent` и `child`.

Очистка:
```bash
make clean
```

## Запуск
```bash
./parent
```

Далее программа попросит ввести имя выходного файла (например, `result.txt`), а затем строки с числами.

Пример сеанса:
```
Enter output file name: result.txt
Enter lines like: "12 -3 7" and press Enter.
Empty line to finish.
> 2 3 4
sum=9
> -5 10
sum=5
> 12.2
ERR: invalid number format
> 
```

После ввода пустой строки программа завершится.

Файл `result.txt` будет содержать:
```
sum=9
sum=5
ERR: invalid number format
```

## Проверка ошибок
- Если введены нецелые значения (`12.2`, `12,2`) → программа сообщает об ошибке;
- Если строка пуста или не содержит чисел → программа сообщает `ERR: no numbers`.

---
