# Лабораторная работа №2: Многопоточное программирование

**Студент:** Резинкин Дмитрий  
**Группа:** М8О-210БВ-24  
**Вариант:** 7

## Вариант задания

Два человека играют в кости. Правила игры следующие: каждый игрок делает бросок 2-ух костей K раз; побеждает тот, кто выбросил суммарно большее количество очков. Задача программы экспериментально определить шансы на победу каждого из игроков. 

На вход программе подается:
- K — количество раундов (бросков)
- Текущий раунд игры
- Сколько очков суммарно у первого игрока
- Сколько очков суммарно у второго игрока  
- Количество экспериментов (симуляций)
- Количество потоков для параллельного выполнения

Программа использует метод Монте-Карло для статистической оценки вероятностей победы каждого игрока.

## Требования

- **ОС**: Linux, macOS или WSL2 (Windows Subsystem for Linux)
- **Компилятор**: GCC с поддержкой POSIX Threads
- **Библиотеки**: pthread

### Установка на Ubuntu/Debian/WSL

Скомпилировать программу с оптимизацией
```
gcc -Wall -Wextra -O2 -o monte_carlo dice_simulation.c -lpthread
```

## Запуск программы

### Синтаксис
```
./dice_simulation <K> <current_round> <p1_score> <p2_score> <experiments> [threads]
```
### Параметры

| Параметр | Описание | Пример |
|----------|----------|--------|
| K | Общее количество раундов | 10 |
| current_round | Текущий раунд (с какого продолжить) | 5 |
| p1_score | Текущий счет игрока 1 | 30 |
| p2_score | Текущий счет игрока 2 | 25 |
| experiments | Количество экспериментов | 10000000 |
| threads | Количество потоков (опционально, по умолчанию 1) | 8 |

### Примеры запуска

**1. Последовательная версия (1 поток):**
````
./monte_carlo 10 5 30 25 10000000 1
````
## Узнать количество логических ядер
````
./monte_carlo 10 5 30 25 100000000 8 &
````
Получить PID процесса
````
PID=$(pgrep monte_carlo)
````

Показать все потоки
````
ps -T -p $PID
````